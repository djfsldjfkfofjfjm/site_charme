<section class="pricing-section">
  <h2 class="section-title">Тарифы и окупаемость</h2>
  <p class="section-subtitle" style="color: #000000 !important; font-weight: 800 !important; opacity: 1 !important; text-shadow: none !important;">Доступные решения для стоматологий любого размера</p>
  
  <div class="pricing-cards-container">
    <!-- Левая карточка - Для клиник -->
    <div class="pricing-card white-card">
      <h3 class="pricing-card-title">Для стоматологий (B2B)</h3>
      <p class="pricing-card-subtitle">Идеально для клиник с командой врачей</p>
      
      <div class="price-block">
        <span class="price">350 ₽</span>
        <span class="period">/месяц за врача</span>
      </div>
      
      <ul class="features-list">
        <li>
          <span class="check-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 6L9 17L4 12" stroke="#6A53FE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          Профессиональные профили для всех врачей
        </li>
        <li>
          <span class="check-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 6L9 17L4 12" stroke="#6A53FE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          Аналитика рекомендаций и конверсий
        </li>
        <li>
          <span class="check-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 6L9 17L4 12" stroke="#6A53FE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          Интеграция с системами онлайн-записи
        </li>
        <li>
          <span class="check-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 6L9 17L4 12" stroke="#6A53FE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          Поддержка и обновления
        </li>
      </ul>
    </div>
    
    <!-- Правая карточка - Внедрение (упрощенная версия) -->
    <div class="pricing-card purple-card">
      <!-- Заголовок -->
      <h3 class="pricing-card-title">Внедрение "под ключ"</h3>
      
      <!-- Подзаголовок -->
      <p class="pricing-card-subtitle">Полное сопровождение для быстрого старта</p>
      
      <!-- Блок с ценой -->
      <div class="price-block">
        <span class="price" style="white-space: nowrap; display: inline-block;">35&nbsp;000&nbsp;₽</span>
        <span class="period">единоразово</span>
      </div>
      
      <!-- Список возможностей -->
      <ul class="features-list">
        <li>
          <span class="check-icon">✓</span>
          <span>Обучение команды врачей</span>
        </li>
        <li>
          <span class="check-icon">✓</span>
          <span>Настройка профилей специалистов</span>
        </li>
        <li>
          <span class="check-icon">✓</span>
          <span>Интеграция с вашими системами учета</span>
        </li>
        <li>
          <span class="check-icon">✓</span>
          <span>Персональный менеджер на 1 месяц</span>
        </li>
      </ul>
      
      <!-- Кнопка -->
      <a href="https://calendar.app.google/fmPQoEZwdpqDEVgF8" target="_blank" class="price-button white-button" style="display: block !important; background-color: white !important; color: #6A53FE !important; text-align: center !important; padding: 14px 28px !important; border-radius: 8px !important; text-decoration: none !important; font-weight: 600 !important; font-size: 16px !important; margin-top: auto !important; position: relative !important; z-index: 10 !important; width: 100% !important; visibility: visible !important; opacity: 1 !important;">Заказать внедрение</a>
    </div>
  </div>

  <!-- Блок призыва к действию с калькулятором -->
  <div class="calculator-cta-container">
    <div class="calculator-cta-inner">
      <div class="calculator-cta-content" style="width: 100%; max-width: 800px; margin: 0 auto;">
        <h3 class="calculator-cta-title">Хотите рассчитать окупаемость ЧАРМИ для вашей клиники?</h3>
        <p class="calculator-cta-text">Воспользуйтесь нашим интерактивным калькулятором, чтобы увидеть реальный экономический эффект от внедрения ЧАРМИ в вашем бизнесе. Учитываем все ключевые показатели: прирост повторных пациентов, рекомендации и конверсию.</p>
        <a href="dental-calculator.html" class="calculator-cta-button">
          Рассчитать окупаемость
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4.16699 10H15.8337" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M10.834 5L15.834 10L10.834 15" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>

<script>
  // Скрипт, который запускается сразу после загрузки компонента
  (function() {
    // Удаляем функцию создания дополнительной карточки, 
    // так как теперь используем стандартные классы CSS
    // Это повысит стабильность отображения на разных устройствах
    
    // Добавляем дополнительные стили для всех устройств, чтобы гарантировать правильное отображение
    function addExtraStyles() {
      const style = document.createElement('style');
      style.textContent = `
        /* Общие исправления для всех устройств */
        .pricing-card.purple-card {
          width: 100%;
          box-sizing: border-box;
          display: flex !important;
          opacity: 1 !important;
          visibility: visible !important;
          position: relative !important;
          z-index: 1 !important;
          transform: translateZ(0);
          -webkit-transform: translateZ(0);
          backface-visibility: hidden;
          -webkit-backface-visibility: hidden;
          min-height: 500px;
        }
        
        /* Исправление для знака рубля, чтобы он не отображался отдельно от суммы */
        .price {
          white-space: nowrap !important;
          display: inline-block !important;
          font-size: 42px !important;
          font-weight: 700 !important;
          line-height: 1 !important;
          color: white !important;
          position: relative !important;
          z-index: 2 !important;
          opacity: 1 !important;
          visibility: visible !important;
        }
        
        /* Исправления для кнопки, чтобы она отображалась корректно */
        .price-button.white-button {
          display: block !important;
          opacity: 1 !important;
          visibility: visible !important;
          position: relative !important;
          z-index: 10 !important;
          background-color: white !important;
          color: #6A53FE !important;
          text-align: center !important;
          padding: 14px 28px !important;
          border-radius: 8px !important;
          text-decoration: none !important;
          font-weight: 600 !important;
          font-size: 16px !important;
          margin-top: auto !important;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
        }
        
        /* Критически важные стили для устранения бага на мобильных */
        .purple-card * {
          opacity: 1 !important;
          visibility: visible !important;
          position: relative !important;
          z-index: auto !important;
        }
        
        /* Исправления специально для мобильных */
        @media (max-width: 768px) {
          .pricing-section {
            overflow: visible !important;
            position: relative !important;
            z-index: 1 !important;
          }
          
          .pricing-cards-container {
            display: flex !important;
            flex-direction: column !important;
            width: 100% !important;
          }
          
          .pricing-card.purple-card {
            margin-bottom: 20px !important;
          }
          
          .price-button.white-button {
            width: 100% !important;
            padding: 14px 28px !important;
            font-weight: 600 !important;
            border-radius: 8px !important;
            margin-top: 20px !important;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2) !important;
          }
        }
      `;
      document.head.appendChild(style);
    }
    
    // Добавляем стили при загрузке
    addExtraStyles();
    
    // Добавляем также обработчик, который выполнится после завершения загрузки страницы
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        // Повторно применяем важные классы и добавляем стили напрямую к элементам
        const purpleCard = document.querySelector('.purple-card');
        if (purpleCard) {
          // Исправление для цены и значка рубля
          const priceElement = purpleCard.querySelector('.price');
          if (priceElement) {
            priceElement.style.whiteSpace = 'nowrap';
            priceElement.style.display = 'inline-block';
            priceElement.style.fontSize = '42px';
            priceElement.style.fontWeight = '700';
            priceElement.style.lineHeight = '1';
            priceElement.style.color = 'white';
            priceElement.style.position = 'relative';
            priceElement.style.zIndex = '2';
            priceElement.style.opacity = '1';
            priceElement.style.visibility = 'visible';
          }
          
          // Исправление для кнопки
          const buttonElement = purpleCard.querySelector('.price-button');
          if (buttonElement) {
            buttonElement.style.display = 'block';
            buttonElement.style.backgroundColor = 'white';
            buttonElement.style.color = '#6A53FE';
            buttonElement.style.textAlign = 'center';
            buttonElement.style.padding = '14px 28px';
            buttonElement.style.borderRadius = '8px';
            buttonElement.style.textDecoration = 'none';
            buttonElement.style.fontWeight = '600';
            buttonElement.style.fontSize = '16px';
            buttonElement.style.position = 'relative';
            buttonElement.style.zIndex = '10';
            buttonElement.style.opacity = '1';
            buttonElement.style.visibility = 'visible';
            buttonElement.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.2)';
            buttonElement.style.width = '100%';
            // Проверяем, что текст кнопки присутствует
            if (!buttonElement.textContent.trim()) {
              buttonElement.innerHTML = 'Заказать внедрение';
            }
          }
        }
      }, 100);
    });
    
    // Добавляем еще один обработчик с большей задержкой для случаев медленной загрузки
    window.addEventListener('load', function() {
      setTimeout(function() {
        // Повторно применяем важные классы и добавляем стили напрямую к элементам
        const purpleCard = document.querySelector('.purple-card');
        if (purpleCard) {
          // Исправление для цены и значка рубля
          const priceElement = purpleCard.querySelector('.price');
          if (priceElement) {
            priceElement.style.whiteSpace = 'nowrap';
            priceElement.style.display = 'inline-block';
            priceElement.style.fontSize = '42px';
            priceElement.style.fontWeight = '700';
            priceElement.style.lineHeight = '1';
            priceElement.style.color = 'white';
            priceElement.style.position = 'relative';
            priceElement.style.zIndex = '2';
            priceElement.style.opacity = '1';
            priceElement.style.visibility = 'visible';
            // Принудительно добавляем неразрывные пробелы в текст
            const priceText = priceElement.textContent;
            const formattedPrice = priceText.replace(/\s+/g, '\u00A0');
            if (formattedPrice !== priceText) {
              priceElement.textContent = formattedPrice;
            }
          }
          
          // Исправление для кнопки
          const buttonElement = purpleCard.querySelector('.price-button');
          if (buttonElement) {
            buttonElement.style.display = 'block';
            buttonElement.style.backgroundColor = 'white';
            buttonElement.style.color = '#6A53FE';
            buttonElement.style.textAlign = 'center';
            buttonElement.style.padding = '14px 28px';
            buttonElement.style.borderRadius = '8px';
            buttonElement.style.textDecoration = 'none';
            buttonElement.style.fontWeight = '600';
            buttonElement.style.fontSize = '16px';
            buttonElement.style.position = 'relative';
            buttonElement.style.zIndex = '10';
            buttonElement.style.opacity = '1';
            buttonElement.style.visibility = 'visible';
            buttonElement.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.2)';
            buttonElement.style.width = '100%';
            // Проверяем, что текст кнопки присутствует
            if (!buttonElement.textContent.trim()) {
              buttonElement.innerHTML = 'Заказать внедрение';
            }
          }
        }
        
        // Проверяем и исправляем кнопку, если она не отображается
        const priceButtonAll = document.querySelectorAll('.price-button.white-button');
        priceButtonAll.forEach(button => {
          button.style.display = 'block';
          button.style.backgroundColor = 'white';
          button.style.color = '#6A53FE';
          button.style.textAlign = 'center';
          button.style.padding = '14px 28px';
          button.style.borderRadius = '8px';
          button.style.textDecoration = 'none';
          button.style.fontWeight = '600';
          button.style.fontSize = '16px';
          button.style.position = 'relative';
          button.style.zIndex = '10';
          button.style.opacity = '1';
          button.style.visibility = 'visible';
          button.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.2)';
          button.style.width = '100%';
          // Проверяем, что текст кнопки присутствует
          if (!button.textContent.trim()) {
            button.innerHTML = 'Заказать внедрение';
          }
        });
      }, 100);
    });
  })();
</script>